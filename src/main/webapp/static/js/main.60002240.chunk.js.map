{"version":3,"sources":["Paths.js","components/Login.js","components/Nav.js","components/ItemCard.js","components/ItemModal.js","components/Catalog.js","components/User.js","components/Sell.js","components/Router.js","App.js","index.js"],"names":["WEBSOCKET_ADDRESS","window","location","host","Login","show","handleClose","updateUser","useState","login","setLogin","form","setForm","formLoading","setFormLoading","Modal","onHide","Header","Body","Form","onChange","event","target","name","value","onSubmit","preventDefault","stopPropagation","currentTarget","checkValidity","body","username","hashed","SHA256","password","toString","hash","console","info","prefix","fetch","method","headers","JSON","stringify","then","res","status","sessionStorage","setItem","alert","Group","controlId","Label","Control","required","type","placeholder","Row","style","alignItems","Button","className","variant","disabled","cursor","onClick","Nav","setShow","searchInput","setSearchInput","history","useHistory","Navbar","bg","position","expand","Col","md","Brand","as","Link","to","inline","e","trim","replace","SEARCH_SERVICE_ADDRESS","json","length","push","FormControl","width","marginRight","marginLeft","borderRadius","textAlign","Text","ItemCard","item","handleClick","hover","setHover","buyAttempted","setBuyAttempted","Card","marginTop","itemid","onMouseEnter","onMouseLeave","backgroundImage","pic","top","right","Title","price","marginBottom","ItemModal","close","loaded","setLoaded","carouselItems","image","map","element","index","Carousel","Item","key","src","alt","CloseButton","fontSize","useEffect","buyerid","err","animation","dialogAs","Container","fluid","interval","slide","description","seller","Spinner","Catalog","searchitems","modalItemID","setModalItemID","items","setItems","page","setPage","closeModal","useCallback","handlePageChange","newPage","scrollTo","itemCards","slice","xs","Math","ceil","User","tab","setTab","orders","setOrders","list","span","offset","defaultActiveKey","onSelect","eventKey","FormData","get","defaultValue","Table","order","buyer","findIndex","Sell","pictures","files","allowedExtensions","log","i","test","validateFile","data","entries","pair","File","multiple","label","rows","Router","useLocation","Switch","path","state","exact","App","addToast","useToasts","setUsername","u","getItem","ws","WebSocket","onmessage","parse","msg","appearance","basename","process","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60002240.chunk.js","sourcesContent":["const prefix =\n  process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:3001' : 'api'\n\nexport const ALL_ITEMS_SERVICE_ADDRESS = prefix + '/items'\n\nexport const ITEM_DETAIL_SERVICE_ADDRESS = prefix + '/item/' // itemid\n\nexport const LOGIN_SERVICE_ADDRESS = prefix + '/login'\n\nexport const SIGNUP_SERVICE_ADDRESS = prefix + '/signup'\n\nexport const SEARCH_SERVICE_ADDRESS = prefix + '/search' // ?q={search terms}\n\nexport const USER_INFO_SERVICE_ADDRESS = prefix + '/user/' // username\n\nexport const USER_PASSWORD_SERVICE_ADDRESS = prefix + '/user/password'\n\nexport const CREATE_ITEM_SERVICE_ADDRESS = prefix + '/create'\n\nexport const BUY_ITEM_SERVICE_ADDRESS = prefix + '/buy'\n\nexport const USER_APPROVE_PURCHASE_SERVICE_ADDRESS = prefix + '/user/approve'\n\nexport const WEBSOCKET_ADDRESS =\n  'ws://' + window.location.host + process.env.PUBLIC_URL + '/api/push/'\n","import React, { useState } from 'react'\nimport { Form, Button, Modal } from 'react-bootstrap'\nimport { SHA256 } from 'crypto-js'\nimport { LOGIN_SERVICE_ADDRESS, SIGNUP_SERVICE_ADDRESS } from '../Paths'\n\nexport const Login = ({ show, handleClose, updateUser }) => {\n  const [login, setLogin] = useState(true)\n  const [form, setForm] = useState({})\n  const [formLoading, setFormLoading] = useState(false)\n  const toggleLogin = () => setLogin(!login)\n  const handleInput = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n    if (event.currentTarget.checkValidity() === true) {\n      setFormLoading(true)\n      const body = { username: form.username }\n      const hashed = SHA256(form.username + ':' + form.password).toString()\n      body.hash = hashed\n      console.info(\n        'POST',\n        login ? LOGIN_SERVICE_ADDRESS : SIGNUP_SERVICE_ADDRESS,\n        body\n      )\n      fetch(login ? LOGIN_SERVICE_ADDRESS : SIGNUP_SERVICE_ADDRESS, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      }).then((res) => {\n        if (res.status === 200) {\n          updateUser(form.username)\n          sessionStorage.setItem('username', form.username)\n          setFormLoading(false)\n          handleClose()\n        } else {\n          alert('Invalid email/password!')\n          setFormLoading(false)\n        }\n      })\n    }\n  }\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header>{login ? 'Log in' : 'Sign up'}</Modal.Header>\n      <Modal.Body>\n        <Form onChange={handleInput} onSubmit={handleSubmit}>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Username</Form.Label>\n            <Form.Control\n              required\n              name=\"username\"\n              type=\"text\"\n              placeholder=\"Username\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          </Form.Group>\n          <Form.Row style={{ alignItems: 'center' }}>\n            <Button\n              className=\"mr-auto ml-1\"\n              variant=\"primary\"\n              type=\"submit\"\n              disabled={formLoading}\n            >\n              {formLoading ? 'Processing...' : 'Submit'}\n            </Button>\n            <i\n              className=\"mr-1\"\n              style={{ cursor: 'pointer' }}\n              onClick={toggleLogin}\n            >\n              <u>{login ? \"Don't have an account?\" : 'Have an account?'}</u>\n            </i>\n          </Form.Row>\n        </Form>\n      </Modal.Body>\n    </Modal>\n  )\n}\n","import React, { useState } from 'react'\nimport { Navbar, Form, FormControl, Button, Col } from 'react-bootstrap'\nimport { Link, useHistory } from 'react-router-dom'\nimport { Login } from './Login'\nimport { SEARCH_SERVICE_ADDRESS } from '../Paths'\n\nconst Nav = ({ username, updateUser }) => {\n  const [show, setShow] = useState(false)\n  const [searchInput, setSearchInput] = useState('')\n  const history = useHistory()\n  const handleClickUser = () => {\n    username ? history.push('/user') : setShow(true)\n  }\n  const handleSearch = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (searchInput.trim() === '') return\n    console.info(\n      'GET ' +\n        SEARCH_SERVICE_ADDRESS +\n        '?q=' +\n        searchInput.trim().replace(' ', '%20')\n    )\n    fetch(\n      SEARCH_SERVICE_ADDRESS + '?q=' + searchInput.trim().replace(' ', '%20')\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.length === 0) {\n          alert('No results found!')\n          return\n        }\n        history.push('/', res)\n      })\n  }\n  const handleClose = () => setShow(false)\n\n  return (\n    <>\n      <Navbar bg=\"primary\" position=\"static\" variant=\"dark\" expand>\n        <Col md={3}>\n          <Navbar.Brand as={Link} to=\"/\" className=\"mr-auto\">\n            USC Marketplace\n          </Navbar.Brand>\n        </Col>\n        <Col md={6}>\n          <Form inline className=\"\" onSubmit={handleSearch}>\n            <FormControl\n              type=\"text\"\n              style={{ width: '90%', marginRight: '-5px' }}\n              placeholder=\"Search\"\n              onChange={(e) => setSearchInput(e.target.value)}\n            />\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              style={{ width: '10%', marginLeft: '-5px', borderRadius: '0px' }}\n            >\n              <ion-icon name=\"search-outline\"></ion-icon>\n            </Button>\n          </Form>\n        </Col>\n        <Col md={3} style={{ textAlign: 'right' }}>\n          <Navbar.Text onClick={handleClickUser} style={{ cursor: 'pointer' }}>\n            {username || 'Log in'}\n          </Navbar.Text>\n        </Col>\n      </Navbar>\n      <Login show={show} handleClose={handleClose} updateUser={updateUser} />\n    </>\n  )\n}\n\nexport default Nav\n","import React, { useState } from 'react'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { BUY_ITEM_SERVICE_ADDRESS } from '../Paths'\n\nconst ItemCard = ({ username, item, handleClick }) => {\n  const [hover, setHover] = useState(false)\n  const [buyAttempted, setBuyAttempted] = useState(false)\n  const handleBuy = (e) => {\n    e.stopPropagation()\n    setBuyAttempted(true)\n    console.info('POST ' + BUY_ITEM_SERVICE_ADDRESS, {\n      itemid: item.itemid,\n      username: username,\n    })\n    fetch(BUY_ITEM_SERVICE_ADDRESS, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        itemid: item.itemid,\n        username: username,\n      }),\n    }).then((res) => {\n      if (res.status === 200) {\n        alert('Successful. Waiting for seller approval now.')\n      } else {\n        alert('Item is not available.')\n      }\n    })\n  }\n  return (\n    <Card\n      style={{\n        marginTop: 30,\n        marginLeft: 15,\n        marginRight: 15,\n        cursor: 'pointer',\n      }}\n      onClick={() =>\n        handleClick(process.env.NODE_ENV === 'production' ? item.itemid : '')\n      }\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n    >\n      <div className=\"square\" style={{ backgroundImage: `url(${item.pic})` }}>\n        {username ? (\n          <div className=\"cardImageOverlay\">\n            {hover ? (\n              <Button\n                style={{\n                  position: 'absolute',\n                  top: 0,\n                  right: 0,\n                  borderRadius: 10,\n                  marginTop: 5,\n                  marginRight: 5,\n                }}\n                onClick={handleBuy}\n                disabled={buyAttempted}\n              >\n                {buyAttempted ? 'Requested' : 'Buy'}\n              </Button>\n            ) : (\n              ''\n            )}\n          </div>\n        ) : (\n          ''\n        )}\n      </div>\n      <Card.Body>\n        <Card.Title style={{ marginTop: 10 }}>${item.price}</Card.Title>\n        <Card.Text style={{ marginBottom: 10 }}>{item.name}</Card.Text>\n      </Card.Body>\n    </Card>\n  )\n}\n\nexport default ItemCard\n","import React, { useState, useEffect } from 'react'\nimport {\n  Modal,\n  Row,\n  Col,\n  Spinner,\n  Carousel,\n  Container,\n  Button,\n} from 'react-bootstrap'\nimport { ITEM_DETAIL_SERVICE_ADDRESS } from '../Paths'\nimport { BUY_ITEM_SERVICE_ADDRESS } from '../Paths'\n\nexport const ItemModal = ({ username, itemid, close }) => {\n  const [loaded, setLoaded] = useState(false)\n  const [item, setItem] = useState(null)\n  const [buyAttempted, setBuyAttempted] = useState(false)\n  const handleBuy = (e) => {\n    e.stopPropagation()\n    setBuyAttempted(true)\n    console.info('POST ' + BUY_ITEM_SERVICE_ADDRESS, {\n      itemid: item.itemid,\n      username: username,\n    })\n    fetch(BUY_ITEM_SERVICE_ADDRESS, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        itemid: item.itemid,\n        username: username,\n      }),\n    }).then((res) => {\n      if (res.status === 200) {\n        alert('Successful. Waiting for seller approval now.')\n      } else {\n        alert('Item is not available.')\n      }\n    })\n  }\n  const carouselItems =\n    item &&\n    item.image.map((element, index) => (\n      <Carousel.Item key={index}>\n        <img className=\"d-block w-100\" src={element} alt={index} />\n      </Carousel.Item>\n    ))\n  const CloseButton = () => (\n    <div className=\"modal-close-button\" onClick={close}>\n      <ion-icon style={{ fontSize: 64 }} name=\"close-outline\"></ion-icon>\n    </div>\n  )\n\n  useEffect(() => {\n    if (itemid === -1) return\n    console.info('GET ' + ITEM_DETAIL_SERVICE_ADDRESS + itemid)\n    fetch(ITEM_DETAIL_SERVICE_ADDRESS + itemid)\n      .then((res) => res.json())\n      .then(\n        (res) => {\n          setItem(res)\n          setLoaded(true)\n          setBuyAttempted(res.buyerid !== '')\n        },\n        (err) => {\n          alert('Loading failed', err)\n          close()\n        }\n      )\n  }, [itemid, close])\n  return (\n    <Modal show={itemid !== -1} onHide={close} animation={false} dialogAs=\"div\">\n      <CloseButton />\n      {loaded ? (\n        <Container fluid>\n          <Row>\n            <Col md={8}>\n              <Carousel\n                interval={null}\n                slide={false}\n                className=\"carousel-container\"\n              >\n                {carouselItems}\n              </Carousel>\n            </Col>\n            <Col md={4}>\n              <Container fluid className=\"desc-container\">\n                <h2>\n                  <b>{item.name}</b>\n                </h2>\n                <h4>${item.price}</h4>\n                <br />\n                <h5>\n                  <b>Details</b>\n                </h5>\n                <p>{item.description}</p>\n                <br />\n                <h5>\n                  <b>Seller</b>\n                </h5>\n                <p>\n                  <b>{item.seller}</b>\n                </p>\n                {username ? (\n                  <Button\n                    className=\"buy-button\"\n                    disabled={buyAttempted}\n                    onClick={handleBuy}\n                  >\n                    {buyAttempted ? 'Pending' : 'Buy now'}\n                  </Button>\n                ) : (\n                  <Button disabled className=\"buy-button\">\n                    Log in to buy\n                  </Button>\n                )}\n              </Container>\n            </Col>\n          </Row>\n        </Container>\n      ) : (\n        <Spinner\n          animation=\"border\"\n          variant=\"primary\"\n          className=\"loading-spinner\"\n        />\n      )}\n    </Modal>\n  )\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Container, Row, Col, Spinner, Button } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport { ALL_ITEMS_SERVICE_ADDRESS } from '../Paths'\nimport ItemCard from './ItemCard'\nimport { ItemModal } from './ItemModal'\n\nexport const Catalog = ({ username, searchitems }) => {\n  const [modalItemID, setModalItemID] = useState(-1)\n  const [items, setItems] = useState(searchitems || [])\n  const [page, setPage] = useState(1)\n  const handleClick = (itemid) => {\n    setModalItemID(itemid)\n  }\n\n  useEffect(() => {\n    if (searchitems) return\n    console.info('GET ' + ALL_ITEMS_SERVICE_ADDRESS)\n    fetch(ALL_ITEMS_SERVICE_ADDRESS)\n      .then((res) => res.json())\n      .then((res) => setItems(res))\n  }, [])\n\n  const closeModal = useCallback(() => {\n    setModalItemID(-1)\n  }, [])\n\n  const handlePageChange = (newPage) => {\n    setPage(newPage)\n    window.scrollTo(0, 0)\n  }\n\n  const itemCards =\n    items &&\n    items.slice((page - 1) * 20, page * 20).map((item) => (\n      <Col key={page + '.' + item.itemid}>\n        <ItemCard username={username} item={item} handleClick={handleClick} />\n      </Col>\n    ))\n  return (\n    <>\n      <Container fluid=\"lg\" className=\"my-4\">\n        {username ? (\n          <Button as={Link} to={'/create'}>\n            Create new listing\n          </Button>\n        ) : (\n          ''\n        )}\n        {items.length !== 0 ? (\n          <>\n            <Row xs={2} md={4}>\n              {itemCards}\n            </Row>\n            {page !== 1 ? (\n              <Button\n                onClick={() => handlePageChange(page - 1)}\n                className=\"mr-3\"\n              >\n                Previous\n              </Button>\n            ) : (\n              ''\n            )}\n            {page !== Math.ceil(items.length / 20) ? (\n              <Button onClick={() => handlePageChange(page + 1)}>Next</Button>\n            ) : (\n              ''\n            )}\n          </>\n        ) : (\n          <Spinner\n            animation=\"border\"\n            variant=\"primary\"\n            className=\"loading-spinner\"\n          />\n        )}\n      </Container>\n      <ItemModal username={username} itemid={modalItemID} close={closeModal} />\n    </>\n  )\n}\n","import { SHA256 } from 'crypto-js'\nimport React, { useState, useEffect } from 'react'\nimport { Nav, Row, Col, Form, Button, Table } from 'react-bootstrap'\nimport {\n  USER_INFO_SERVICE_ADDRESS,\n  USER_PASSWORD_SERVICE_ADDRESS,\n  USER_APPROVE_PURCHASE_SERVICE_ADDRESS,\n} from '../Paths'\n\nexport const User = ({ username }) => {\n  const [tab, setTab] = useState('orders')\n  const [orders, setOrders] = useState([])\n  useEffect(() => {\n    console.info('GET', USER_INFO_SERVICE_ADDRESS + username)\n    fetch(USER_INFO_SERVICE_ADDRESS + username)\n      .then((res) => res.json())\n      .then((res) => {\n        setOrders(res)\n      })\n  }, [username])\n  const handlePasswordChange = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    const form = new FormData(e.target)\n    if (form.get('password').trim() === '') {\n      alert('Please enter a valid password')\n      return\n    }\n    console.info('POST', USER_PASSWORD_SERVICE_ADDRESS, {\n      username: username,\n      hash: SHA256(username + ':' + form.get('password')).toString(),\n    })\n    fetch(USER_PASSWORD_SERVICE_ADDRESS, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        username: username,\n        hash: SHA256(username + ':' + form.get('password')).toString(),\n      }),\n    }).then((res) => {\n      if (res.status === 200) {\n        alert('Password changed successfully!')\n      } else {\n        alert('An error has occured! Please try again.')\n      }\n    })\n  }\n  const handleApprovePurchase = (itemid) => {\n    console.info('POST', USER_APPROVE_PURCHASE_SERVICE_ADDRESS, {\n      username: username,\n      itemid: itemid,\n    })\n    fetch(USER_APPROVE_PURCHASE_SERVICE_ADDRESS, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        username: username,\n        itemid: itemid,\n      }),\n    }).then((res) => {\n      if (res.status === 200) {\n        alert('Successful')\n        const index = orders.findIndex((e) => e.itemid === itemid)\n        setOrders([...orders.slice(0, index), ...orders.slice(index + 1)])\n      } else {\n        alert('An error has occured.')\n      }\n    })\n  }\n\n  const orderTable = (list) =>\n    list &&\n    list.map((order) => (\n      <tr key={order.itemid}>\n        <td>{order.name}</td>\n        <td>${order.price}</td>\n        <td>{order.buyer}</td>\n        <td>\n          <Button onClick={() => handleApprovePurchase(order.itemid)}>\n            Approve\n          </Button>\n        </td>\n      </tr>\n    ))\n  return (\n    <>\n      <Row className=\"mt-5\">\n        <Col md={{ span: 2, offset: 1 }}>\n          <Nav\n            variant=\"pills\"\n            defaultActiveKey=\"orders\"\n            className=\"flex-column\"\n            onSelect={(key) => setTab(key)}\n          >\n            <Nav.Item>\n              <Nav.Link eventKey=\"orders\">Requests</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"password\">Change password</Nav.Link>\n            </Nav.Item>\n          </Nav>\n        </Col>\n        <Col md={{ span: 6 }} className=\"ml-5\">\n          {tab === 'password' ? (\n            <>\n              <h3>Change password</h3>\n              <Form onSubmit={handlePasswordChange}>\n                <Form.Group controlId=\"name\">\n                  <Form.Label>Username</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Enter your name\"\n                    defaultValue={username}\n                    disabled\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"password\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                  />\n                </Form.Group>\n                <Button variant=\"primary\" type=\"submit\">\n                  Save changes\n                </Button>\n              </Form>\n            </>\n          ) : (\n            <>\n              <h3>Incoming Requests</h3>\n              <Table>\n                <thead>\n                  <th>Name</th>\n                  <th>Price</th>\n                  <th>Buyer</th>\n                  <th>Status</th>\n                </thead>\n                <tbody>{orderTable(orders)}</tbody>\n              </Table>\n            </>\n          )}\n        </Col>\n      </Row>\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport { Button, Container, Form } from 'react-bootstrap'\nimport { useHistory } from 'react-router'\nimport { CREATE_ITEM_SERVICE_ADDRESS } from '../Paths'\nexport const Sell = ({ username }) => {\n  const [form, setForm] = useState({})\n  const [formLoading, setFormLoading] = useState(false)\n  const history = useHistory()\n  //   const handlePictures = ()\n  const handleInput = (event) => {\n    if (event.target.name === 'picture') {\n      setForm({ ...form, pictures: event.target.files })\n    } else {\n      setForm({ ...form, [event.target.name]: event.target.value })\n    }\n  }\n  const validateFile = () => {\n    const allowedExtensions = /[a-zA-Z0-9]+\\.(jpg|png|jpeg)$/i\n    console.log(form.pictures)\n    for (let i = 0; i < form.pictures.length; i++) {\n      if (!allowedExtensions.test(form.pictures[i].name)) {\n        alert('Please upload valid pictures!')\n        return false\n      }\n    }\n    return true\n  }\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n    if (event.currentTarget.checkValidity() && validateFile()) {\n      setFormLoading(true)\n      const data = new FormData(event.target)\n      console.info('POST', CREATE_ITEM_SERVICE_ADDRESS)\n      for (var pair of data.entries()) {\n        console.log(pair[0] + ' - ' + pair[1])\n      }\n      fetch(CREATE_ITEM_SERVICE_ADDRESS, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'multipart/formdata',\n        },\n        body: data,\n      }).then((res) => {\n        if (res.status === 200) {\n          history.push('/')\n        } else {\n          alert('An error has occured.')\n        }\n        setFormLoading(false)\n      })\n    }\n  }\n\n  return (\n    <Container fluid=\"md\" className=\"mt-4\">\n      <h2>Create new listing</h2>\n      <Form onChange={handleInput} onSubmit={handleSubmit}>\n        <Form.Group controlId=\"title\">\n          <Form.Label>Title</Form.Label>\n          <Form.Control type=\"text\" name=\"title\" required />\n        </Form.Group>\n        <Form.Group controlId=\"price\">\n          <Form.Label>Price</Form.Label>\n          <Form.Control type=\"number\" name=\"price\" required />\n        </Form.Group>\n        <Form.Group controlId=\"picture\">\n          <Form.File name=\"picture\" multiple required label=\"Pictures\" />\n        </Form.Group>\n        <Form.Group controlId=\"description\">\n          <Form.Label>Description</Form.Label>\n          <Form.Control as=\"textarea\" rows={5} name=\"description\" required />\n        </Form.Group>\n        <input type=\"hidden\" name=\"username\" value={username} />\n        <Button type=\"submit\" disabled={formLoading}>\n          Submit\n        </Button>\n      </Form>\n    </Container>\n  )\n}\nnew FormData()\n","import { Route, useLocation } from 'react-router-dom'\nimport React from 'react'\nimport Switch from 'react-bootstrap/esm/Switch'\nimport { Catalog } from './Catalog'\nimport { User } from './User'\nimport { Sell } from './Sell'\n\nexport const Router = ({ username }) => {\n  const location = useLocation()\n  return (\n    <Switch className=\"p-0\">\n      {username && (\n        <Switch>\n          <Route path=\"/user\">\n            <User username={username} />\n          </Route>\n          <Route path=\"/create\">\n            <Sell username={username} />\n          </Route>\n        </Switch>\n      )}\n      {location.state ? (\n        <Catalog username={username} searchitems={location.state} />\n      ) : (\n        <Route path=\"/\" exact>\n          <Catalog username={username} />\n        </Route>\n      )}\n    </Switch>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport Nav from './components/Nav'\nimport './App.scss'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Router } from './components/Router'\nimport { useToasts } from 'react-toast-notifications'\nimport { WEBSOCKET_ADDRESS } from './Paths'\nfunction App() {\n  const { addToast } = useToasts()\n  const [username, setUsername] = useState(null)\n  useEffect(() => {\n    const u = sessionStorage.getItem('username')\n    if (u === username) return\n    setUsername(u)\n  }, [])\n  const updateUsername = (n) => setUsername(n)\n\n  useEffect(() => {\n    if (!username) {\n      return\n    }\n    console.info('Connecting to push')\n    console.info(WEBSOCKET_ADDRESS)\n    const ws = new WebSocket(WEBSOCKET_ADDRESS + username)\n    ws.onmessage = (event) => {\n      const data = JSON.parse(event.data)\n      const msg = data.buyer + 'just bought' + data.item + '!'\n      addToast(msg, { appearance: 'info' })\n    }\n    return () => {\n      ws.close()\n    }\n  }, [username, addToast])\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Nav username={username} updateUser={updateUsername} />\n      <Router username={username} />\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { ToastProvider } from 'react-toast-notifications'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ToastProvider>\n      <App />\n    </ToastProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}